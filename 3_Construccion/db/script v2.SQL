USE astecadb
;

SET FOREIGN_KEY_CHECKS=0;


DROP TABLE IF EXISTS ADMINISTRATIVOS
;
DROP TABLE IF EXISTS ALUMNOS
;
DROP TABLE IF EXISTS ALUMNOS_CURSOS
;
DROP TABLE IF EXISTS ASENTAMIENTOS
;
DROP TABLE IF EXISTS ASISTENCIA_CURSO
;
DROP TABLE IF EXISTS AULAS
;
DROP TABLE IF EXISTS AUTORIZACIONES_PROGR_EST
;
DROP TABLE IF EXISTS BITACORA
;
DROP TABLE IF EXISTS CALIF_CURSOS
;
DROP TABLE IF EXISTS CAPACIDADES
;
DROP TABLE IF EXISTS CAPACIDADES_ALUMNOS
;
DROP TABLE IF EXISTS CAT_GRAL
;
DROP TABLE IF EXISTS CERTIFICADOS
;
DROP TABLE IF EXISTS CLIENTES
;
DROP TABLE IF EXISTS CURSOS
;
DROP TABLE IF EXISTS CURSOS_MATERIAS
;
DROP TABLE IF EXISTS DOCS
;
DROP TABLE IF EXISTS DOCS_ALUMNOS
;
DROP TABLE IF EXISTS DOCS_NECESARIOS_ALUMNOS
;
DROP TABLE IF EXISTS DOMICILIOS
;
DROP TABLE IF EXISTS EQUIPOS
;
DROP TABLE IF EXISTS ESTADOS
;
DROP TABLE IF EXISTS ESTATUS
;
DROP TABLE IF EXISTS ESTUDIOS
;
DROP TABLE IF EXISTS ESTUDIOS_ALUMNO
;
DROP TABLE IF EXISTS FAMILIA
;
DROP TABLE IF EXISTS INSTITUTO_CONTACTOS
;
DROP TABLE IF EXISTS INSTITUTO_PUESTOS
;
DROP TABLE IF EXISTS INSTITUTOS
;
DROP TABLE IF EXISTS INSTRUCTORES
;
DROP TABLE IF EXISTS MATERIAS
;
DROP TABLE IF EXISTS MODULOS
;
DROP TABLE IF EXISTS MUNICIPIOS
;
DROP TABLE IF EXISTS NOTIFICACIONES
;
DROP TABLE IF EXISTS NOTIFICACIONES_ESTADOS
;
DROP TABLE IF EXISTS NOTIFICACIONES_TIPOS
;
DROP TABLE IF EXISTS PAISES
;
DROP TABLE IF EXISTS PERMISOS
;
DROP TABLE IF EXISTS PERSONAS
;
DROP TABLE IF EXISTS PROGRAMA_EST_MATERIAS
;
DROP TABLE IF EXISTS PROGRAMA_ESTUDIOS
;
DROP TABLE IF EXISTS REFERENCIAS
;
DROP TABLE IF EXISTS ROLES
;
DROP TABLE IF EXISTS ROLES_MOD_PERMISOS_SOBRE
;
DROP TABLE IF EXISTS ROLES_MOD_PERMISOS_USR
;
DROP TABLE IF EXISTS ROLES_MOD_USUARIOS
;
DROP TABLE IF EXISTS ROLES_MODULOS
;
DROP TABLE IF EXISTS TIPOS_CAT_GRAL
;
DROP TABLE IF EXISTS TIPOS_CLIENTES
;
DROP TABLE IF EXISTS TIPOS_ESTUDIOS
;
DROP TABLE IF EXISTS TIPOS_INSTRUCTORES
;
DROP TABLE IF EXISTS TIPOS_LICENCIA
;

CREATE TABLE ADMINISTRATIVOS
(
	ID_ADMIN INTEGER NOT NULL,
	NO_EMPLEADO VARCHAR(20),
	ID_PERSONA INTEGER,
	ID_DOMICILIO INTEGER,
	PRIMARY KEY (ID_ADMIN),
	KEY (ID_PERSONA),
	KEY (ID_DOMICILIO)
) 
;


CREATE TABLE ALUMNOS
(
	ID_ALUMNO INTEGER NOT NULL,
	MATRICULA VARCHAR(50),
	ID_ESTATUS SMALLINT,
	ID_PERSONA INTEGER,
	ID_DOMICILIO INTEGER,
	ID_FAMILIA INTEGER,
	PRIMARY KEY (ID_ALUMNO),
	UNIQUE UQ_ALUM_MAT(MATRICULA),
	KEY (ID_ESTATUS),
	KEY (ID_PERSONA),
	KEY (ID_DOMICILIO),
	KEY (ID_FAMILIA)
) 
;


CREATE TABLE ALUMNOS_CURSOS
(
	ID_ALUMNO_CURSO INTEGER NOT NULL,
	ID_ALUMNO INTEGER,
	ID_CURSO INTEGER,
	PRIMARY KEY (ID_ALUMNO_CURSO),
	KEY (ID_CURSO),
	KEY (ID_ALUMNO)
) 
;


CREATE TABLE ASENTAMIENTOS
(
	ID_ASENTAMIENTO INTEGER NOT NULL,
	ID_MUNICIPIO INTEGER NOT NULL,
	ID_ESTADO INTEGER NOT NULL,
	ID_CP SMALLINT,
	NOMBRE VARCHAR(50),
	ACTIVO SMALLINT,
	CLAVE VARCHAR(15),
	PRIMARY KEY (ID_ASENTAMIENTO, ID_MUNICIPIO, ID_ESTADO),
	KEY (ID_MUNICIPIO, ID_ESTADO)
) 
;


CREATE TABLE ASISTENCIA_CURSO
(
	ID_ASISTENCIA_CURSO BIGINT NOT NULL,
	ID_ALUMNO INTEGER,
	ID_CURSO INTEGER,
	FECHA DATE,
	PRESENTE SMALLINT,
	PRIMARY KEY (ID_ASISTENCIA_CURSO),
	KEY (ID_CURSO),
	KEY (ID_ALUMNO)
) 
;


CREATE TABLE AULAS
(
	ID_AULA INTEGER NOT NULL,
	ID_SEDE INTEGER,
	CLAVE VARCHAR(30),
	DSC VARCHAR(30),
	CAPACIDAD INTEGER,
	ACTIVO SMALLINT,
	PRIMARY KEY (ID_AULA),
	KEY (ID_SEDE)
) 
;


CREATE TABLE AUTORIZACIONES_PROGR_EST
(
	ID_AUTORIZACION INTEGER NOT NULL,
	ID_PROG_EST INTEGER,
	ID_DOC INTEGER,
	FECHA_UPLOAD DATE,
	PRIMARY KEY (ID_AUTORIZACION),
	KEY (ID_DOC),
	KEY (ID_PROG_EST)
) 
;


CREATE TABLE BITACORA
(
	ID_BITACORA BIGINT NOT NULL,
	FECHA DATETIME,
	IP VARCHAR(15),
	ID_USR INTEGER,
	MENSAJE VARCHAR(50),
	ACCION VARCHAR(30),
	PRIMARY KEY (ID_BITACORA)
) 
;


CREATE TABLE CALIF_CURSOS
(
	ID_CALIF_CURSO BIGINT NOT NULL,
	ID_ALUMNO INTEGER,
	ID_CURSO INTEGER,
	ID_MATERIA INTEGER,
	CALIFICACION DECIMAL(4,2),
	PRIMARY KEY (ID_CALIF_CURSO),
	KEY (ID_MATERIA),
	KEY (ID_ALUMNO),
	KEY (ID_CURSO)
) 
;


CREATE TABLE CAPACIDADES
(
	ID_CAPACIDAD INTEGER NOT NULL,
	ID_TIPO_LICENCIA SMALLINT,
	TIPO_CAPACIDAD VARCHAR(50),
	AUTORIZADA VARCHAR(50),
	HORAS INTEGER,
	FECHA_INIC DATE,
	FECHA_FIN DATE,
	ACREDITADA VARCHAR(15),
	PRIMARY KEY (ID_CAPACIDAD),
	KEY (ID_TIPO_LICENCIA)
) 
;


CREATE TABLE CAPACIDADES_ALUMNOS
(
	ID_CAP_ALU INTEGER NOT NULL,
	ID_CAPACIDADES INTEGER,
	ID_ALUMNO INTEGER,
	PRIMARY KEY (ID_CAP_ALU),
	KEY (ID_ALUMNO),
	KEY (ID_CAPACIDADES)
) 
;


CREATE TABLE CAT_GRAL
(
	ID_CAT_GRAL INTEGER NOT NULL,
	ID_TIPO_CAT_GRAL SMALLINT,
	CVE_REGISTRO VARCHAR(30),
	DSC VARCHAR(50),
	ESTATUS VARCHAR(20),
	ACTIVO SMALLINT,
	PRIMARY KEY (ID_CAT_GRAL),
	KEY (ID_TIPO_CAT_GRAL)
) 
;


CREATE TABLE CERTIFICADOS
(
	NO_CERTIFICADO VARCHAR(50),
	ID_ESTATUS SMALLINT,
	FECHA_EMISION DATE,
	FECHA_CANCELACION DATE,
	MOTIVO_CANCELACION VARCHAR(150),
	ID_ALUMNO INTEGER,
	ID_CERT INTEGER NOT NULL,
	PRIMARY KEY (ID_CERT),
	KEY (ID_ESTATUS),
	KEY (ID_ALUMNO)
) 
;


CREATE TABLE CLIENTES
(
	ID_CLIENTE INTEGER NOT NULL AUTO_INCREMENT,
	CLAVE VARCHAR(20),
	NOMBRE VARCHAR(50),
	RESPONSABLE VARCHAR(50),
	TELEFONO VARCHAR(30),
	EMAIL VARCHAR(30),
	ID_TIPO_CLIENTE SMALLINT,
	PRIMARY KEY (ID_CLIENTE),
	KEY (ID_TIPO_CLIENTE)
) 
;


CREATE TABLE CURSOS
(
	ID_CURSO INTEGER NOT NULL,
	ID_AREA INTEGER,
	ID_PROGR_ESTUDIOS INTEGER,
	FECHA_INI DATE,
	FECHA_FIN DATE,
	ID_SEDE INTEGER,
	HORA_INI VARCHAR(5),
	HORA_FIN VARCHAR(5),
	GRUPO INTEGER,
	REFERENCIA VARCHAR(20),
	PRIMARY KEY (ID_CURSO),
	UNIQUE UQ_CURSOS_GRUPO(GRUPO),
	UNIQUE UQ_CURSOS_REFERENCIA(REFERENCIA)
) 
;


CREATE TABLE CURSOS_MATERIAS
(
	ID_CURSO_MATERIA INTEGER NOT NULL,
	ID_MATERIA INTEGER,
	ID_CURSO INTEGER,
	PRIMARY KEY (ID_CURSO_MATERIA),
	KEY (ID_CURSO),
	KEY (ID_MATERIA)
) 
;


CREATE TABLE DOCS
(
	ID_DOC INTEGER NOT NULL,
	NOMBRE VARCHAR(30),
	RUTA VARCHAR(100),
	ID_ESTATUS SMALLINT,
	ID_ALUMNO INTEGER,
	PRIMARY KEY (ID_DOC),
	KEY (ID_ESTATUS)
) 
;


CREATE TABLE DOCS_ALUMNOS
(
	ID_DOC_ALUMNO INTEGER NOT NULL,
	ID_ALUMNO INTEGER,
	FECHA_UPLOAD DATE,
	ID_DOC INTEGER,
	PRIMARY KEY (ID_DOC_ALUMNO),
	KEY (ID_ALUMNO),
	KEY (ID_DOC)
) 
;


CREATE TABLE DOCS_NECESARIOS_ALUMNOS
(
	ID_DOC_NEC SMALLINT NOT NULL,
	NOMBRE VARCHAR(30),
	PRIMARY KEY (ID_DOC_NEC)
) 
;


CREATE TABLE DOMICILIOS
(
	ID_DOMICILIO INTEGER NOT NULL,
	ID_ASENTAMIENTO INTEGER,
	CALLE VARCHAR(30),
	NO_EXTERIOR VARCHAR(10),
	NO_INTERIOR VARCHAR(10),
	CP SMALLINT,
	TELEFONO VARCHAR(20),
	ID_MUNICIPIO INTEGER,
	ID_ESTADO INTEGER,
	PRIMARY KEY (ID_DOMICILIO),
	KEY (ID_ASENTAMIENTO, ID_MUNICIPIO, ID_ESTADO)
) 
;


CREATE TABLE EQUIPOS
(
	ID_EQUIPO INTEGER NOT NULL,
	CLAVE VARCHAR(20),
	DSC VARCHAR(50),
	TIPO_EQUIPO INTEGER,
	ACTIVO SMALLINT,
	PRIMARY KEY (ID_EQUIPO),
	KEY (TIPO_EQUIPO)
) 
;


CREATE TABLE ESTADOS
(
	ID_ESTADO INTEGER NOT NULL,
	NOMBRE VARCHAR(50),
	ACTIVO SMALLINT,
	CLAVE VARCHAR(15),
	ID_PAIS INTEGER,
	PRIMARY KEY (ID_ESTADO),
	KEY (ID_PAIS)
) 
;


CREATE TABLE ESTATUS
(
	ID_ESTATUS SMALLINT NOT NULL,
	DESC_ESTATUS VARCHAR(20),
	OBS_ESTATUS VARCHAR(20),
	PRIMARY KEY (ID_ESTATUS)
) 
;


CREATE TABLE ESTUDIOS
(
	ID_ESTUDIOS INTEGER NOT NULL,
	INSTITUCION VARCHAR(50),
	FECHA_INI SMALLINT,
	FECHA_FIN SMALLINT,
	CERT VARCHAR(50),
	ID_TIPO_ESTUDIO SMALLINT,
	PRIMARY KEY (ID_ESTUDIOS),
	KEY (ID_TIPO_ESTUDIO)
) 
;


CREATE TABLE ESTUDIOS_ALUMNO
(
	ID_EST_ALU INTEGER NOT NULL,
	ID_ESTUDIO INTEGER,
	ID_ALUMNO INTEGER,
	PRIMARY KEY (ID_EST_ALU),
	KEY (ID_ALUMNO),
	KEY (ID_ESTUDIO)
) 
;


CREATE TABLE FAMILIA
(
	ID_FAM INTEGER NOT NULL,
	CONYUGUE_NOMBRE VARCHAR(50),
	CONYUGUE_FECHA_NAC DATE,
	HIJO_1_NOMBRE VARCHAR(50),
	HIJO_1_FECHA_NAC DATE,
	HIJO_2_NOMBRE VARCHAR(50),
	HIJO_2_FECHA_NAC DATE,
	PADRE_NOMBRE VARCHAR(50),
	PADRE_FECHA_NAC DATE,
	MADRE_NOMBRE VARCHAR(50),
	MADRE_FECHA_NAC DATE,
	PRIMARY KEY (ID_FAM)
) 
;


CREATE TABLE INSTITUTO_CONTACTOS
(
	ID_INST_CONT INTEGER NOT NULL,
	ID_PERSONA INTEGER,
	ID_PUESTO SMALLINT,
	ID_INSTITUTO INTEGER,
	PRIMARY KEY (ID_INST_CONT),
	KEY (ID_INSTITUTO),
	KEY (ID_PUESTO),
	KEY (ID_PERSONA)
) 
;


CREATE TABLE INSTITUTO_PUESTOS
(
	ID_PUESTO SMALLINT NOT NULL,
	NOMBRE VARCHAR(20),
	PRIMARY KEY (ID_PUESTO)
) 
;


CREATE TABLE INSTITUTOS
(
	ID_INSTITUTO INTEGER NOT NULL,
	NOMBRE VARCHAR(50),
	RAZON_SOCIAL VARCHAR(50),
	RFC VARCHAR(20),
	ID_DOMICILIO INTEGER,
	FAX VARCHAR(20),
	PRIMARY KEY (ID_INSTITUTO)
) 
;


CREATE TABLE INSTRUCTORES
(
	ID_INSTRUCTOR INTEGER NOT NULL,
	NO_EMPLEADO VARCHAR(20),
	ID_TIPO_INSTRUCTOR SMALLINT,
	ID_PERSONA INTEGER,
	ID_DOMICILIO INTEGER,
	PRIMARY KEY (ID_INSTRUCTOR),
	KEY (ID_TIPO_INSTRUCTOR),
	KEY (ID_DOMICILIO),
	KEY (ID_PERSONA)
) 
;


CREATE TABLE MATERIAS
(
	ID_MATERIA INTEGER NOT NULL,
	NOMBRE VARCHAR(30),
	ID_AULA INTEGER,
	ID_INSTRUCTOR INTEGER,
	FH_INICIAL DATETIME,
	FH_FINAL DATETIME,
	ID_TIPO_MATERIA INTEGER,
	PRIMARY KEY (ID_MATERIA),
	KEY (ID_AULA),
	KEY (ID_INSTRUCTOR),
	KEY (ID_TIPO_MATERIA)
) 
;


CREATE TABLE MODULOS
(
	ID_MODULO INTEGER NOT NULL,
	NOMBRE VARCHAR(25),
	DSC VARCHAR(50),
	PRIMARY KEY (ID_MODULO)
) 
;


CREATE TABLE MUNICIPIOS
(
	ID_MUNICIPIO INTEGER NOT NULL,
	ID_ESTADO INTEGER NOT NULL,
	NOMBRE VARCHAR(50),
	ACTIVO SMALLINT,
	CLAVE VARCHAR(15),
	ID_UNICO INTEGER,
	PRIMARY KEY (ID_MUNICIPIO, ID_ESTADO),
	KEY (ID_ESTADO)
) 
;


CREATE TABLE NOTIFICACIONES
(
	ID_NOTIFICACION BIGINT NOT NULL,
	ID_ESTADO SMALLINT,
	ID_TIPO SMALLINT,
	FECHA_ALTA DATETIME,
	FECHA_LEIDO DATETIME,
	MENSAJE VARCHAR(50),
	PRIMARY KEY (ID_NOTIFICACION),
	KEY (ID_ESTADO),
	KEY (ID_TIPO)
) 
;


CREATE TABLE NOTIFICACIONES_ESTADOS
(
	ID_NOTIF_EDO SMALLINT NOT NULL,
	NOMBRE VARCHAR(20),
	PRIMARY KEY (ID_NOTIF_EDO)
) 
;


CREATE TABLE NOTIFICACIONES_TIPOS
(
	ID_NOTIF_TIPO SMALLINT NOT NULL,
	NOMBRE VARCHAR(20),
	PRIMARY KEY (ID_NOTIF_TIPO)
) 
;


CREATE TABLE PAISES
(
	ID_PAIS INTEGER NOT NULL,
	NOMBRE_PAIS VARCHAR(50),
	ACTIVO SMALLINT,
	PRIMARY KEY (ID_PAIS)
) 
;


CREATE TABLE PERMISOS
(
	ID_PERMISO INTEGER NOT NULL,
	ALTA SMALLINT,
	CAMBIOS SMALLINT,
	BORRAR SMALLINT,
	CONSULTA SMALLINT,
	IMPRESION SMALLINT,
	PRIMARY KEY (ID_PERMISO)
) 
;


CREATE TABLE PERSONAS
(
	ID_PERSONA INTEGER NOT NULL,
	FECHA_NAC DATE,
	LUGAR_NAC VARCHAR(50),
	CURP VARCHAR(20),
	RFC VARCHAR(20),
	IFE VARCHAR(20),
	PASAPORTE VARCHAR(30),
	EMAIL VARCHAR(50),
	NOMBRE VARCHAR(30),
	APELLIDO_P VARCHAR(30),
	APELLIDO_M VARCHAR(30),
	USUARIO VARCHAR(30),
	PASSWORD VARCHAR(30),
	PRIMARY KEY (ID_PERSONA)
) 
;


CREATE TABLE PROGRAMA_EST_MATERIAS
(
	ID_PROGR_EST_MAT INTEGER NOT NULL,
	ID_PROGR_EST INTEGER,
	ID_MATERIA INTEGER,
	HORAS_TEORIA INTEGER,
	HORAS_PRACTICA INTEGER,
	PRIMARY KEY (ID_PROGR_EST_MAT),
	KEY (ID_MATERIA),
	KEY (ID_PROGR_EST)
) 
;


CREATE TABLE PROGRAMA_ESTUDIOS
(
	ID_PROG_ESTUDIO INTEGER NOT NULL,
	CLAVE VARCHAR(30),
	DSC VARCHAR(50),
	ID_TIPO INTEGER,
	NO_AUT VARCHAR(20),
	FECHA_AUT DATE,
	HORAS_PRACTICA INTEGER,
	HORAS_TEORIA INTEGER,
	PRIMARY KEY (ID_PROG_ESTUDIO),
	KEY (ID_TIPO)
) 
;


CREATE TABLE REFERENCIAS
(
	ID_REFERENCIA INTEGER NOT NULL,
	ID_PERSONA INTEGER,
	ID_DOMICILIO INTEGER,
	ID_ALUMNO INTEGER,
	PRIMARY KEY (ID_REFERENCIA),
	KEY (ID_ALUMNO),
	KEY (ID_PERSONA),
	KEY (ID_DOMICILIO)
) 
;


CREATE TABLE ROLES
(
	ID_ROL INTEGER NOT NULL,
	CLAVE VARCHAR(15),
	NOMBRE VARCHAR(25),
	ACTIVO SMALLINT,
	PRIMARY KEY (ID_ROL)
) 
;


CREATE TABLE ROLES_MOD_PERMISOS_SOBRE
(
	ID_ROL_MOD_PERM_SOBRE INTEGER NOT NULL,
	ID_PERMISOS INTEGER,
	ID_ROL_MOD_PERM_USR INTEGER,
	PRIMARY KEY (ID_ROL_MOD_PERM_SOBRE),
	KEY (ID_PERMISOS),
	KEY (ID_ROL_MOD_PERM_USR)
) 
;


CREATE TABLE ROLES_MOD_PERMISOS_USR
(
	ID_ROL_MOD_PER_USR INTEGER NOT NULL,
	ID_ROL_MOD_USR INTEGER,
	ID_ROL_MOD INTEGER,
	PRIMARY KEY (ID_ROL_MOD_PER_USR),
	KEY (ID_ROL_MOD_USR),
	KEY (ID_ROL_MOD)
) 
;


CREATE TABLE ROLES_MOD_USUARIOS
(
	ID_ROL_MOD_USR INTEGER NOT NULL,
	ID_ROL INTEGER,
	PERIODO_INICIO DATE,
	PERIODO_FIN DATE,
	ACTIVO SMALLINT,
	ID_USUARIO INTEGER,
	PRIMARY KEY (ID_ROL_MOD_USR),
	KEY (ID_ROL),
	KEY (ID_USUARIO)
) 
;


CREATE TABLE ROLES_MODULOS
(
	ID_ROL_MOD INTEGER NOT NULL,
	ID_ROL INTEGER,
	ID_MODULO INTEGER,
	ID_PERMISOS INTEGER,
	ACTIVO SMALLINT,
	PRIMARY KEY (ID_ROL_MOD),
	KEY (ID_PERMISOS)
) 
;


CREATE TABLE TIPOS_CAT_GRAL
(
	ID_CAT_GRAL SMALLINT NOT NULL,
	TIPO VARCHAR(20),
	PRIMARY KEY (ID_CAT_GRAL)
) 
;


CREATE TABLE TIPOS_CLIENTES
(
	ID_TIPO_CLIENTE SMALLINT NOT NULL,
	NOMBRE VARCHAR(20),
	PRIMARY KEY (ID_TIPO_CLIENTE)
) 
;


CREATE TABLE TIPOS_ESTUDIOS
(
	ID_TIPO_ESTUDIOS SMALLINT NOT NULL,
	NOMBRE VARCHAR(20),
	PRIMARY KEY (ID_TIPO_ESTUDIOS)
) 
;


CREATE TABLE TIPOS_INSTRUCTORES
(
	ID_TIPO_INSTRUCTOR SMALLINT NOT NULL,
	NOMBRE VARCHAR(20),
	PRIMARY KEY (ID_TIPO_INSTRUCTOR)
) 
;


CREATE TABLE TIPOS_LICENCIA
(
	ID_TIPO_LIC SMALLINT NOT NULL,
	DESC_TIPO_LIC VARCHAR(20),
	PRIMARY KEY (ID_TIPO_LIC)
) 
;



SET FOREIGN_KEY_CHECKS=1;


ALTER TABLE ADMINISTRATIVOS ADD CONSTRAINT FK_ADMIN_PER 
	FOREIGN KEY (ID_PERSONA) REFERENCES PERSONAS (ID_PERSONA)
;

ALTER TABLE ADMINISTRATIVOS ADD CONSTRAINT FK_ADMIN_DOM 
	FOREIGN KEY (ID_DOMICILIO) REFERENCES DOMICILIOS (ID_DOMICILIO)
;

ALTER TABLE ALUMNOS ADD CONSTRAINT FK_ALUM_EST 
	FOREIGN KEY (ID_ESTATUS) REFERENCES ESTATUS (ID_ESTATUS)
;

ALTER TABLE ALUMNOS ADD CONSTRAINT FK_ALUM_DT 
	FOREIGN KEY (ID_PERSONA) REFERENCES PERSONAS (ID_PERSONA)
;

ALTER TABLE ALUMNOS ADD CONSTRAINT FK_ALUM_DOM 
	FOREIGN KEY (ID_DOMICILIO) REFERENCES DOMICILIOS (ID_DOMICILIO)
;

ALTER TABLE ALUMNOS ADD CONSTRAINT FK_ALU_FAM 
	FOREIGN KEY (ID_FAMILIA) REFERENCES FAMILIA (ID_FAM)
;

ALTER TABLE ALUMNOS_CURSOS ADD CONSTRAINT FK_AC_CURSO 
	FOREIGN KEY (ID_CURSO) REFERENCES CURSOS (ID_CURSO)
;

ALTER TABLE ALUMNOS_CURSOS ADD CONSTRAINT FK_AC_ALUMN 
	FOREIGN KEY (ID_ALUMNO) REFERENCES ALUMNOS (ID_ALUMNO)
;

ALTER TABLE ASENTAMIENTOS ADD CONSTRAINT FK_ASEN_MPIO 
	FOREIGN KEY (ID_MUNICIPIO, ID_ESTADO) REFERENCES MUNICIPIOS (ID_MUNICIPIO, ID_ESTADO)
;

ALTER TABLE ASISTENCIA_CURSO ADD CONSTRAINT FK_ASISC_CURSO 
	FOREIGN KEY (ID_CURSO) REFERENCES CURSOS (ID_CURSO)
;

ALTER TABLE ASISTENCIA_CURSO ADD CONSTRAINT FK_ASISC_ALUMN 
	FOREIGN KEY (ID_ALUMNO) REFERENCES ALUMNOS (ID_ALUMNO)
;

ALTER TABLE AULAS ADD CONSTRAINT FK_AU_SED 
	FOREIGN KEY (ID_SEDE) REFERENCES CAT_GRAL (ID_CAT_GRAL)
;

ALTER TABLE AUTORIZACIONES_PROGR_EST ADD CONSTRAINT FK_AUT_PROGR_EST_DOCS 
	FOREIGN KEY (ID_DOC) REFERENCES DOCS (ID_DOC)
;

ALTER TABLE AUTORIZACIONES_PROGR_EST ADD CONSTRAINT FK_AUT_PRGEST_PROGR_EST 
	FOREIGN KEY (ID_PROG_EST) REFERENCES PROGRAMA_ESTUDIOS (ID_PROG_ESTUDIO)
;

ALTER TABLE CALIF_CURSOS ADD CONSTRAINT FK_CALIFC_MAT 
	FOREIGN KEY (ID_MATERIA) REFERENCES MATERIAS (ID_MATERIA)
;

ALTER TABLE CALIF_CURSOS ADD CONSTRAINT FK_CALIFC_ALUMN 
	FOREIGN KEY (ID_ALUMNO) REFERENCES ALUMNOS (ID_ALUMNO)
;

ALTER TABLE CALIF_CURSOS ADD CONSTRAINT FK_CALIFC_CURSO 
	FOREIGN KEY (ID_CURSO) REFERENCES CURSOS (ID_CURSO)
;

ALTER TABLE CAPACIDADES ADD CONSTRAINT FK_CAP_TL 
	FOREIGN KEY (ID_TIPO_LICENCIA) REFERENCES TIPOS_LICENCIA (ID_TIPO_LIC)
;

ALTER TABLE CAPACIDADES_ALUMNOS ADD CONSTRAINT FK_CAPALU_ALU 
	FOREIGN KEY (ID_ALUMNO) REFERENCES ALUMNOS (ID_ALUMNO)
;

ALTER TABLE CAPACIDADES_ALUMNOS ADD CONSTRAINT FK_CAPALU_CAP 
	FOREIGN KEY (ID_CAPACIDADES) REFERENCES CAPACIDADES (ID_CAPACIDAD)
;

ALTER TABLE CAT_GRAL ADD CONSTRAINT FK_CAT_GRAL_TIP 
	FOREIGN KEY (ID_TIPO_CAT_GRAL) REFERENCES TIPOS_CAT_GRAL (ID_CAT_GRAL)
;

ALTER TABLE CERTIFICADOS ADD CONSTRAINT FK_CERT_ESTATUS 
	FOREIGN KEY (ID_ESTATUS) REFERENCES ESTATUS (ID_ESTATUS)
;

ALTER TABLE CERTIFICADOS ADD CONSTRAINT FK_CERT_ALUMN 
	FOREIGN KEY (ID_ALUMNO) REFERENCES ALUMNOS (ID_ALUMNO)
;

ALTER TABLE CLIENTES ADD CONSTRAINT FK_CTE_TP_CTE 
	FOREIGN KEY (ID_TIPO_CLIENTE) REFERENCES TIPOS_CLIENTES (ID_TIPO_CLIENTE)
;

ALTER TABLE CURSOS_MATERIAS ADD CONSTRAINT FK_CM_CURSO 
	FOREIGN KEY (ID_CURSO) REFERENCES CURSOS (ID_CURSO)
;

ALTER TABLE CURSOS_MATERIAS ADD CONSTRAINT FK_CM_MAT 
	FOREIGN KEY (ID_MATERIA) REFERENCES MATERIAS (ID_MATERIA)
;

ALTER TABLE DOCS ADD CONSTRAINT FK_DOCSALU_EST 
	FOREIGN KEY (ID_ESTATUS) REFERENCES ESTATUS (ID_ESTATUS)
;

ALTER TABLE DOCS_ALUMNOS ADD CONSTRAINT FK_DOCSAL_ALUMN 
	FOREIGN KEY (ID_ALUMNO) REFERENCES ALUMNOS (ID_ALUMNO)
;

ALTER TABLE DOCS_ALUMNOS ADD CONSTRAINT FK_DOCSALU_DOCS 
	FOREIGN KEY (ID_DOC) REFERENCES DOCS (ID_DOC)
;

ALTER TABLE DOMICILIOS ADD CONSTRAINT FK_DOM_ASE 
	FOREIGN KEY (ID_ASENTAMIENTO, ID_MUNICIPIO, ID_ESTADO) REFERENCES ASENTAMIENTOS (ID_ASENTAMIENTO, ID_MUNICIPIO, ID_ESTADO)
;

ALTER TABLE EQUIPOS ADD CONSTRAINT FK_EQ_CAT_GRAL 
	FOREIGN KEY (TIPO_EQUIPO) REFERENCES CAT_GRAL (ID_CAT_GRAL)
;

ALTER TABLE ESTADOS ADD CONSTRAINT FK_EDO_PAIS 
	FOREIGN KEY (ID_PAIS) REFERENCES PAISES (ID_PAIS)
;

ALTER TABLE ESTUDIOS ADD CONSTRAINT FK_EST_TE 
	FOREIGN KEY (ID_TIPO_ESTUDIO) REFERENCES TIPOS_ESTUDIOS (ID_TIPO_ESTUDIOS)
;

ALTER TABLE ESTUDIOS_ALUMNO ADD CONSTRAINT FK_ESTALU_ALU 
	FOREIGN KEY (ID_ALUMNO) REFERENCES ALUMNOS (ID_ALUMNO)
;

ALTER TABLE ESTUDIOS_ALUMNO ADD CONSTRAINT FK_ESTALU_EST 
	FOREIGN KEY (ID_ESTUDIO) REFERENCES ESTUDIOS (ID_ESTUDIOS)
;

ALTER TABLE INSTITUTO_CONTACTOS ADD CONSTRAINT FK_INST_CTSINST 
	FOREIGN KEY (ID_INSTITUTO) REFERENCES INSTITUTOS (ID_INSTITUTO)
;

ALTER TABLE INSTITUTO_CONTACTOS ADD CONSTRAINT FK_INSTCTS_INSTPTO 
	FOREIGN KEY (ID_PUESTO) REFERENCES INSTITUTO_PUESTOS (ID_PUESTO)
;

ALTER TABLE INSTITUTO_CONTACTOS ADD CONSTRAINT FK_INSTCTS_PER 
	FOREIGN KEY (ID_PERSONA) REFERENCES PERSONAS (ID_PERSONA)
;

ALTER TABLE INSTRUCTORES ADD CONSTRAINT FK_INSTR_T_INSTR 
	FOREIGN KEY (ID_TIPO_INSTRUCTOR) REFERENCES TIPOS_INSTRUCTORES (ID_TIPO_INSTRUCTOR)
;

ALTER TABLE INSTRUCTORES ADD CONSTRAINT FK_INSTR_DOM 
	FOREIGN KEY (ID_DOMICILIO) REFERENCES DOMICILIOS (ID_DOMICILIO)
;

ALTER TABLE INSTRUCTORES ADD CONSTRAINT FK_INSTR_PER 
	FOREIGN KEY (ID_PERSONA) REFERENCES PERSONAS (ID_PERSONA)
;

ALTER TABLE MATERIAS ADD CONSTRAINT FK_MATS_AULA 
	FOREIGN KEY (ID_AULA) REFERENCES AULAS (ID_AULA)
;

ALTER TABLE MATERIAS ADD CONSTRAINT FK_MAT_INSTR 
	FOREIGN KEY (ID_INSTRUCTOR) REFERENCES INSTRUCTORES (ID_INSTRUCTOR)
;

ALTER TABLE MATERIAS ADD CONSTRAINT FK_MAT_TIPO_MAT 
	FOREIGN KEY (ID_TIPO_MATERIA) REFERENCES CAT_GRAL (ID_CAT_GRAL)
;

ALTER TABLE MUNICIPIOS ADD CONSTRAINT FK_MPIO_EDO 
	FOREIGN KEY (ID_ESTADO) REFERENCES ESTADOS (ID_ESTADO)
;

ALTER TABLE NOTIFICACIONES ADD CONSTRAINT FK_NOTIF_NOTIFEDO 
	FOREIGN KEY (ID_ESTADO) REFERENCES NOTIFICACIONES_ESTADOS (ID_NOTIF_EDO)
;

ALTER TABLE NOTIFICACIONES ADD CONSTRAINT FK_NOTIF_NOTIFTP 
	FOREIGN KEY (ID_TIPO) REFERENCES NOTIFICACIONES_TIPOS (ID_NOTIF_TIPO)
;

ALTER TABLE PROGRAMA_EST_MATERIAS ADD CONSTRAINT FK_PRG_ESTMAT_MAT 
	FOREIGN KEY (ID_MATERIA) REFERENCES MATERIAS (ID_MATERIA)
;

ALTER TABLE PROGRAMA_EST_MATERIAS ADD CONSTRAINT FK_PRG_ESTMAT_EST 
	FOREIGN KEY (ID_PROGR_EST) REFERENCES PROGRAMA_ESTUDIOS (ID_PROG_ESTUDIO)
;

ALTER TABLE PROGRAMA_ESTUDIOS ADD CONSTRAINT FK_PRGR_EST_CAT_GRAL 
	FOREIGN KEY (ID_TIPO) REFERENCES CAT_GRAL (ID_CAT_GRAL)
;

ALTER TABLE REFERENCIAS ADD CONSTRAINT FK_REF_ALU 
	FOREIGN KEY (ID_ALUMNO) REFERENCES ALUMNOS (ID_ALUMNO)
;

ALTER TABLE REFERENCIAS ADD CONSTRAINT FK_REF_PER 
	FOREIGN KEY (ID_PERSONA) REFERENCES PERSONAS (ID_PERSONA)
;

ALTER TABLE REFERENCIAS ADD CONSTRAINT FK_REF_DOM 
	FOREIGN KEY (ID_DOMICILIO) REFERENCES DOMICILIOS (ID_DOMICILIO)
;

ALTER TABLE ROLES_MOD_PERMISOS_SOBRE ADD CONSTRAINT FK_ROL_MOD_PER_SOBR 
	FOREIGN KEY (ID_PERMISOS) REFERENCES PERMISOS (ID_PERMISO)
;

ALTER TABLE ROLES_MOD_PERMISOS_SOBRE ADD CONSTRAINT FK_ROL_MOD_PERM_SOBR_USR 
	FOREIGN KEY (ID_ROL_MOD_PERM_USR) REFERENCES ROLES_MOD_PERMISOS_USR (ID_ROL_MOD_PER_USR)
;

ALTER TABLE ROLES_MOD_PERMISOS_USR ADD CONSTRAINT FK_ROL_MOD_PERM_USRS 
	FOREIGN KEY (ID_ROL_MOD_USR) REFERENCES ROLES_MOD_USUARIOS (ID_ROL_MOD_USR)
;

ALTER TABLE ROLES_MOD_PERMISOS_USR ADD CONSTRAINT FK_ROL_MOD_PERM_MOD 
	FOREIGN KEY (ID_ROL_MOD) REFERENCES ROLES_MODULOS (ID_ROL_MOD)
;

ALTER TABLE ROLES_MOD_USUARIOS ADD CONSTRAINT FK_ROL_MD_USR_ROLES 
	FOREIGN KEY (ID_ROL) REFERENCES ROLES (ID_ROL)
;

ALTER TABLE ROLES_MOD_USUARIOS ADD CONSTRAINT FK_ROL_MOD_PER_USR 
	FOREIGN KEY (ID_USUARIO) REFERENCES PERSONAS (ID_PERSONA)
;

ALTER TABLE ROLES_MODULOS ADD CONSTRAINT FK_ROLES_MODULOS_PERMISOS 
	FOREIGN KEY (ID_PERMISOS) REFERENCES PERMISOS (ID_PERMISO)
;
