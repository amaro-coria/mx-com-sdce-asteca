<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core">

<h:body>
	<ui:composition>
		<h:form styleClass="login">
			<p:growl id="growl" showDetail="true" sticky="true" />
			<p:panel id="panel" header="Buscar" closable="false"
				toggleable="false" style="text-align:center;" >
				<h:panelGrid columns="2" style="text-align:left;">
					<h:outputText value="#{msg.clave} :" />
					<p:inputText id="claveEquipo" value="#{beanEquipo.clave}" style="min-width: 450px;" />
					
					<h:outputText value="#{msg.descripcion} :" />
					<p:inputText id="descripcionEquipo" value="#{beanEquipo.descripcion}" style="min-width: 450px;" />
					
					<h:outputText value="#{msg.tipoEquipo} :" />
					<p:selectOneMenu id="selectTipoEquipo"
						value="#{beanEquipo.tipoEquipo}" style="min-width: 450px;" >
						<f:selectItem itemLabel="#{msg.seleccionarEquipoTipo}" itemValue="" noSelectionOption="true" />
						<f:selectItems value="#{beanEquipo.listaSelectTipos}" />
					</p:selectOneMenu>
				</h:panelGrid>
				
				<h:panelGrid style="text-align:right" width="100%">
					<h:panelGrid columns="2" style="text-align:right">
						<p:commandButton value="#{msg.limpiar}"
							icon="ui-icon-arrowrefresh-1-e"
							onclick=":form:selectTipoEquipo.selectValue('')"
							actionListener="#{beanEquipo.limpiarFiltrado}" update="growl" />
						<p:commandButton value="#{msg.buscar}"
							icon="ui-icon-search"
							actionListener="#{beanEquipo.buscarFiltrado}"
							update="equipoTable" />
					</h:panelGrid>
				</h:panelGrid>
			</p:panel>
			<p:panel>
				<p:commandButton value="#{msg.ver}" icon="ui-icon-search" 
								actionListener="#{beanEquipo.ver}" 
								oncomplete="verDialog.show()" />
			</p:panel>
			<p:panel>
				<p:dataTable id="equipoTable"
					value="#{beanEquipo.listaEquipo}" var="equipoT"
					rowKey="#{equipoT.idEquipo}" paginator="true" 
					selection="#{beanEquipo.equipoSelected}" filteredValue="#{beanEquipo.filterEquipo}"
					paginatorPosition="bottom" rows="5">
					<p:column selectionMode="single" style="width:2%" />
					<p:column id="id" headerText="#{msg.id}"
						sortBy="#{equipoT.idEquipo}" filterBy="#{equipoT.idEquipo}" rendered="false">
						<h:outputText id="idCell" value="#{equipoT.idEquipo}" />
					</p:column>
					<p:column id="tipo" headerText="#{msg.tipo}"
						sortBy="#{equipoT.catGralDTO.dsc}" filterBy="#{equipoT.catGralDTO.dsc}">
						<h:outputText id="tipoCell" value="#{equipoT.catGralDTO.dsc}" />
					</p:column>
					<p:column id="clave" headerText="#{msg.clave}"
						sortBy="#{equipoT.clave}" filterBy="#{equipoT.clave}">
						<h:outputText id="claveCell" value="#{equipoT.clave}" />
					</p:column>
					<p:column id="descn" headerText="#{msg.descripcion}"
						sortBy="#{equipoT.dsc}" filterBy="#{equipoT.dsc}">
						<h:outputText id="descCell" value="#{equipoT.dsc}" />
					</p:column>
				</p:dataTable>
			</p:panel>
		</h:form>
	</ui:composition>
</h:body>
</html>